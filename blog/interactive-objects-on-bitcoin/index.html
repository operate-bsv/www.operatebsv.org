<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Building interactive objects on Bitcoin | Operate</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tachyons/4.11.1/tachyons.min.css">
    <script src="https://unpkg.com/bsv@1.0.0"></script>
    <link rel="icon" type="image/png" href="https://www.operatebsv.org/favicon.png">
    <meta name="description" content="Learn how Operate can return functions that can be used for decrypting encrypted data and much more.">
    <meta property="article:published_time" content="2019-12-16T00:00:00.000Z">
    <meta property="og:site_name" content="Operate">
    <meta property="og:title" content="Building interactive objects on Bitcoin">
    <meta property="og:description" content="Learn how Operate can return functions that can be used for decrypting encrypted data and much more.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.operatebsv.org/blog/interactive-objects-on-bitcoin/">
    <meta property="og:image" content="https://www.operatebsv.org/2019/12/functions-card.jpg">
    <meta name="twitter:title" content="Building interactive objects on Bitcoin">
    <meta name="twitter:description" content="Learn how Operate can return functions that can be used for decrypting encrypted data and much more.">
    <meta name="twitter:url" content="https://www.operatebsv.org/blog/interactive-objects-on-bitcoin/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://www.operatebsv.org/2019/12/functions-card.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Libs">
    <meta name="twitter:creator" content="@libitx">
    <meta name="twitter:site" content="@operate_bsv">
    <link rel="preload" href="/assets/css/0.styles.78c8d025.css" as="style"><link rel="preload" href="/assets/js/app.1df2e10b.js" as="script"><link rel="preload" href="/assets/js/10.d3ea1685.js" as="script"><link rel="preload" href="/assets/js/3.9aabc9b7.js" as="script"><link rel="preload" href="/assets/js/29.eedd55f2.js" as="script"><link rel="prefetch" href="/assets/js/1.2f5efb22.js"><link rel="prefetch" href="/assets/js/11.6d47628e.js"><link rel="prefetch" href="/assets/js/12.a4be0560.js"><link rel="prefetch" href="/assets/js/13.7c6ad532.js"><link rel="prefetch" href="/assets/js/14.f0d77a20.js"><link rel="prefetch" href="/assets/js/15.c8f21e17.js"><link rel="prefetch" href="/assets/js/16.e2b27f66.js"><link rel="prefetch" href="/assets/js/17.98770086.js"><link rel="prefetch" href="/assets/js/18.aa182f6e.js"><link rel="prefetch" href="/assets/js/19.8487b458.js"><link rel="prefetch" href="/assets/js/2.4cebc9ba.js"><link rel="prefetch" href="/assets/js/20.ac4b0eb9.js"><link rel="prefetch" href="/assets/js/21.eff69005.js"><link rel="prefetch" href="/assets/js/22.797926e2.js"><link rel="prefetch" href="/assets/js/23.827e27b8.js"><link rel="prefetch" href="/assets/js/24.18510505.js"><link rel="prefetch" href="/assets/js/25.c3680d69.js"><link rel="prefetch" href="/assets/js/26.6c8a7b1f.js"><link rel="prefetch" href="/assets/js/27.3b95da71.js"><link rel="prefetch" href="/assets/js/28.e4599cf7.js"><link rel="prefetch" href="/assets/js/30.f06841fe.js"><link rel="prefetch" href="/assets/js/31.7958879d.js"><link rel="prefetch" href="/assets/js/32.5ea75a30.js"><link rel="prefetch" href="/assets/js/33.f855627b.js"><link rel="prefetch" href="/assets/js/34.8aea3585.js"><link rel="prefetch" href="/assets/js/35.9e2e54a8.js"><link rel="prefetch" href="/assets/js/36.5f7e2055.js"><link rel="prefetch" href="/assets/js/37.a0c55018.js"><link rel="prefetch" href="/assets/js/38.9ab65cff.js"><link rel="prefetch" href="/assets/js/39.577c61ce.js"><link rel="prefetch" href="/assets/js/4.b49033e8.js"><link rel="prefetch" href="/assets/js/40.64ba3422.js"><link rel="prefetch" href="/assets/js/41.bd78e5aa.js"><link rel="prefetch" href="/assets/js/42.4e10ff3d.js"><link rel="prefetch" href="/assets/js/6.d72108e1.js"><link rel="prefetch" href="/assets/js/7.a4105b50.js"><link rel="prefetch" href="/assets/js/8.2b4c5dc3.js"><link rel="prefetch" href="/assets/js/9.a084c6d0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.78c8d025.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="helvetica dark-gray"><header class="bb b--light-gray"><div class="flex items-center justify-between ph3 ph4-l | navbar"><div class="dn db-ns pt1"><a href="/" class="router-link-active"><img src="data:image/png;base64,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" srcset="data:image/png;base64,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 2x" alt="Operate | BSV"></a></div> <ul class="ma0 pa0 list f5 lh-block cf" data-v-036a0346><li class="fw5 dn dib-ns mr3 mr4-l" data-v-036a0346><a href="/" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 router-link-active nav-item-home" data-v-036a0346>
      Home
    </a></li><li class="fw5 dib mr3" data-v-036a0346><div class="relative pv2" data-v-52777367 data-v-036a0346><a href="/docs" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 nav-item-docs" data-v-036a0346>
        Docs
        <span aria-label="Menu Down icon" role="img" class="material-design-icon menu-down-icon v-mid" data-v-036a0346><svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M7,10L12,15L17,10H7Z"><title>Menu Down icon</title></path></svg></span></a> <div class="absolute top-100 z-5 | navdrop" data-v-52777367><!----></div></div></li><li class="fw5 dib mr3 mr4-l" data-v-036a0346><a href="/library" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 nav-item-library" data-v-036a0346>
      Library
    </a></li><li class="fw5 dib mr3 mr4-l" data-v-036a0346><a href="/playground" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 nav-item-playground" data-v-036a0346>
      Playground
    </a></li><li class="fw5 dib mr3 mr4-l" data-v-036a0346><a href="/blog" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 router-link-active nav-item-articles" data-v-036a0346>
      Articles
    </a></li></ul></div></header> <main><article itemscope="itemscope" itemtype="http://schema.org/Article"><meta itemprop="url" content="https://www.operatebsv.org/blog/interactive-objects-on-bitcoin/"> <header class="mb5 ph3 ph4-l flex flex-column justify-end bg-center cover article-banner article-banner--light" style="height:24rem;background-image:url(/2019/12/functions.jpg);"><div class="w-100 mw7 pv4 center bb b--light-gray"><h1 itemprop="name" class="mv0 f2 lh-title"><span>Building interactive objects on Bitcoin</span></h1> <ul class="mb0 list f6 lh-block gray mt2 pa0"><li class="dib mr3"><time date="2019-12-16" pubdate><span aria-label="Calendar icon" role="img" class="material-design-icon calendar-icon dib mr1 silver v-mid"><svg fill="currentColor" width="20" height="20" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"><title>Calendar icon</title></path></svg></span> <span itemprop="datePublished">16th December 2019</span></time></li> <li class="dib mr3"><span aria-label="Account Box icon" role="img" class="material-design-icon account-box-icon dib mr1 silver v-mid"><svg fill="currentColor" width="20" height="20" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M6,17C6,15 10,13.9 12,13.9C14,13.9 18,15 18,17V18H6M15,9A3,3 0 0,1 12,12A3,3 0 0,1 9,9A3,3 0 0,1 12,6A3,3 0 0,1 15,9M3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3H5C3.89,3 3,3.9 3,5Z"><title>Account Box icon</title></path></svg></span> <span itemprop="author">Libs</span></li></ul></div></header> <div class="pb4 pb5-l ph3 ph4-l"><div itemprop="articleBody" class="w-100 mw7 center content__default"><p>Transactions powered by Operate can be made to return any kind of value - from primitives like strings and integers, to arrays and <a href="/blog/data-mapping-structured-objects/">structured objects</a>. One little known superpower of Ops is that they can also return <strong>functions</strong>.</p> <p>Returning a function allows you to create new, innovative ways of your application interfacing with Bitcoin. We can begin to treat transactions as interactive objects with methods and callbacks, and design transactions to do just about anything imaginable.</p> <p>You can create transactions that are able to execute HTTP requests, or transactions that can build and broadcast new transactions. You can pass parameters directly from your application and implement some of your app's business logic inside transactions.</p> <h2 id="handling-encrypted-data"><a href="#handling-encrypted-data" class="header-anchor">#</a> Handling encrypted data</h2> <p>One use-case for functions is to create an interface for decrypting encrypted data. You can securely pass a private key from your application to a function, without permanently exposing the private key to the Lua VM or any other Ops in the program.</p> <p>A number of Ops currently follow this pattern.</p> <ul><li><a href="/library/op/?ref=714e3702"><code>crypto/ecies_data</code></a> - puts data encrypted using Electrum's ECIES implementation on to the state.</li> <li><a href="/library/op/?ref=49b32fbe"><code>crypto/rsa_aes_data</code></a> - as above but uses an RSA/AES encryption algorithm.</li></ul> <p>Both of these Ops attach a <code>decrypt</code> function to the state, which can be called from your application. When passed the correct private key, the function handles decryption and returns the unencrypted data.</p> <p>For example, the Op <code>crypto/ecies_data</code> expects two parameters: the <code>path</code> and the encrypted <code>data</code>. From the <a href="/library/op/?ref=714e3702">source code</a>, lets take a closer look at the following key parts.</p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Define the encrypted data table</span>
<span class="token keyword">local</span> encrypted <span class="token operator">=</span> <span class="token punctuation">{</span>
  data <span class="token operator">=</span> data
<span class="token punctuation">}</span>
  
<span class="token comment">-- Attach the decrypt method</span>
<span class="token keyword">function</span> encrypted<span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>privatekey<span class="token punctuation">)</span>
  <span class="token keyword">return</span> crypto<span class="token punctuation">.</span>ecies<span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>encrypted<span class="token punctuation">.</span>data<span class="token punctuation">,</span> privatekey<span class="token punctuation">)</span>
<span class="token keyword">end</span>
  
<span class="token comment">-- Put the encrypted data on to state</span>
<span class="token function">extend</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> path<span class="token punctuation">,</span> encrypted<span class="token punctuation">)</span>
<span class="token keyword">return</span> state
</code></pre></div><p>The first part of the code above simply defines a local variable with the variable name <code>encrypted</code>, which is a table (like a JavaScript object) with a property containing the raw encrypted data.</p> <p>The next few lines attach a function named <code>decrypt</code> on the <code>encrypted</code> table. This function receives a private key, handles decryption and returns the unencrypted data.</p> <p>Finally the <code>encrypted</code> table is added on to the state at the given <code>path</code> and the state is returned.</p> <h2 id="example-on-chain-paywall"><a href="#example-on-chain-paywall" class="header-anchor">#</a> Example: On-chain paywall</h2> <p>Imagine you're building an on-chain paywall application. You want to design a transaction where part of the data is public and part encrypted. Your app holds the private key and controls access to the encrypted data to users who have paid a fee.</p> <p>To construct the paywall transaction, you can use the Bitcom <a href="https://b.bitdb.network" target="_blank" rel="noopener">B://<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> protocol combined with the <code>crypto/ecies_data</code> Op.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>OP_FALSE OP_RETURN
  <span class="token string">&quot;19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut&quot;</span>  <span class="token comment"># B://</span>
    <span class="token string">&quot;Hello world&quot;</span>
    <span class="token string">&quot;Text/plain&quot;</span>
    <span class="token operator">|</span>
  0x714E3702  <span class="token comment"># crypto/ecies_data</span>
    <span class="token string">&quot;paywall&quot;</span>
    <span class="token operator">&lt;</span>encrypted data<span class="token operator">&gt;</span>
</code></pre></div><p>Using the <code>bsv.js</code> library, you can encrypt the paywall content using your app's public key. The following code will return the encrypted data to use in the transaction above.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">ECIES</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bsv/ecies'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ecies <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ECIES</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">publicKey</span><span class="token punctuation">(</span>pubkey<span class="token punctuation">)</span>

<span class="token keyword">const</span> paywall <span class="token operator">=</span> <span class="token string">'Top secret information'</span>
<span class="token keyword">const</span> encrypted <span class="token operator">=</span> ecies<span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>paywall<span class="token punctuation">)</span>
</code></pre></div><p>When the transaction is run through Operate it will return an object like this:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;utf8&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;paywall&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;QklFMQNgUeoXx8LHV4rEbTzUJ9vjTGgKQ+8hZQq6Q5HpD77KReAHK0OS2nkh6BmWULqWWjN88O5vchd3ZEHvdXHzGPc0tsJaD67KGi/np47BLKPyyoBCSpGmuY3+SQcsMvX5S0c=&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;decrypt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;function(privateKey)&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Within your application you can now load and run the tape. The result gives you access to the <code>decrypt</code> function, which you can call and pass your app's private key, and receive the decrypted data.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token comment"># Load and run the tape</span>
<span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> tape<span class="token punctuation">}</span> <span class="token operator">=</span> txid
<span class="token operator">|&gt;</span> Operate<span class="token punctuation">.</span>load_tape!
<span class="token operator">|&gt;</span> Operate<span class="token punctuation">.</span>run_tape

<span class="token comment"># Access and execute the decrypt function</span>
<span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> result<span class="token punctuation">}</span> <span class="token operator">=</span> tape<span class="token punctuation">.</span>result
<span class="token operator">|&gt;</span> get_in<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;paywall&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;decrypt&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">|&gt;</span> Operate<span class="token punctuation">.</span>VM<span class="token punctuation">.</span>exec_function<span class="token punctuation">(</span><span class="token punctuation">[</span>private_key<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>Functions returning functions is some crazy meta stuff! Suddenly your app's transactions no longer need be limited to containing static data, but can become living, breathing parts of your application. The line between where Bitcoin ends and your application starts can be wherever you decide that line to be. This opens the door to all kinds of creative use-cases.</p> <p>In this article we're beginning to realize Operate's promise of <em>limitless possibilities</em>. In my next article we'll take this one step further and explore how we can extend the Lua VM, and make modules and functions from your application available to your Ops and transactions.</p></div></div></article></main> <footer class="ph3 ph4-l pv4 pt5-l bt b--light-gray"><div class="w-100 center mw7"><ul class="ma0 pa0 list f5 lh-block cf mb4" data-v-036a0346><li class="fw5 dn dib-ns mr3 mr4-l" data-v-036a0346><a href="/" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 router-link-active nav-item-home" data-v-036a0346>
      Home
    </a></li><li class="fw5 dib mr3 mr4-l" data-v-036a0346><a href="/docs" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 nav-item-docs" data-v-036a0346>
      Docs
    </a></li><li class="fw5 dib mr3 mr4-l" data-v-036a0346><a href="/library" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 nav-item-library" data-v-036a0346>
      Library
    </a></li><li class="fw5 dib mr3 mr4-l" data-v-036a0346><a href="/playground" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 nav-item-playground" data-v-036a0346>
      Playground
    </a></li><li class="fw5 dib mr3 mr4-l" data-v-036a0346><a href="/blog" class="pv2 link mid-gray hover-hot-pink bb bw1 b--transparent outline-0 router-link-active nav-item-articles" data-v-036a0346>
      Articles
    </a></li></ul> <div class="pt4 measure-wide bt b--light-gray"><p class="mt0 mb4 f7 lh-copy">Have questions? Need help getting started? Feel free to reach out to us on Twitter, open a Github issue, or find us in <a href="https://bitdb.network/atlantis" class="link blue hover-hot-pink">Atlantis Slack</a>.</p> <ul class="dib list ma0 ph0 pt0 pb4 f6 lh-copy bb b--light-gray"><li class="dib mr3"><a href="https://twitter.com/operate_bsv" target="_blank" class="link blue hover-hot-pink"><span aria-label="Twitter icon" role="img" class="material-design-icon twitter-icon mr1 v-mid"><svg fill="currentColor" width="20" height="20" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"><title>Twitter icon</title></path></svg></span> <span>Follow @operate_bsv</span></a></li> <li class="dib mr3"><a href="https://github.com/operate-bsv" target="_blank" class="link blue hover-hot-pink"><span aria-label="Github icon" role="img" class="material-design-icon github-icon mr1 v-mid"><svg fill="currentColor" width="20" height="20" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"><title>Github icon</title></path></svg></span> <span>View on Github</span></a></li></ul> <p class="mt4 mb3 f7 lh-copy">Â© Copyright 2019-2020 Chronos Labs Ltd.</p></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1df2e10b.js" defer></script><script src="/assets/js/10.d3ea1685.js" defer></script><script src="/assets/js/3.9aabc9b7.js" defer></script><script src="/assets/js/29.eedd55f2.js" defer></script>
  </body>
</html>
