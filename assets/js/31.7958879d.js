(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{621:function(t,a,e){"use strict";e.r(a);var s=e(41),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("Released today, Operate now offers a JavaScript agent, "),e("strong",[t._v("allowing Operate to be used in the browser")]),t._v(" and in Node.js apps. This is the next step in Operate's journey, and opens Operate up to pretty much every team and developer actively working on Bitcoin today.")]),t._v(" "),e("div",{staticClass:"custom-block success"},[e("p",{staticClass:"custom-block-title"},[t._v("Get started using Operate with JavaScript")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/docs/using-the-agent/#javascript"}},[t._v("Quick start documentation")])],1),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/operate-bsv/op_agent-js",target:"_blank",rel:"noopener"}},[t._v("Source code on Github"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/operate-bsv/op_agent-js",target:"_blank",rel:"noopener"}},[t._v("Full API documentation"),e("OutboundLink")],1)])])]),t._v(" "),e("h2",{attrs:{id:"what-is-the-agent-for"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-agent-for"}},[t._v("#")]),t._v(" What is the agent for?")]),t._v(" "),e("p",[t._v("To use Operate, the agent is the primary tool developers need in order to integrate Operate in their apps. It can be seen as a Bitcoin interface layer - it is responsible for loading programs (tapes) from transactions, it loads all of the necessary Ops, runs the tape in a VM and returns a result.")]),t._v(" "),e("p",[t._v("Operate initially launched with an agent written in Elixir. But it's always been my intention to get Operate working in the browser for pure front-end apps, and so following up with a JavaScript agent was always part of the plan.")]),t._v(" "),e("p",[t._v("Now Operate offers two alternative agent implementations, and we're committed to supporting both:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/operate-bsv/op_agent",target:"_blank",rel:"noopener"}},[t._v("Elixir"),e("OutboundLink")],1),t._v(" - Original implementation. Ideal for performant and scalable back-end apps.")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/operate-bsv/op_agent-js",target:"_blank",rel:"noopener"}},[t._v("JavaScript"),e("OutboundLink")],1),t._v(" - Popular programming language. Cross-platform compatibility.")])]),t._v(" "),e("h2",{attrs:{id:"try-operate-right-now"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#try-operate-right-now"}},[t._v("#")]),t._v(" Try Operate right now!")]),t._v(" "),e("p",[t._v("The great thing about JavaScript is that you can play with it in a browser. So before you start downloading npm packages, why not just try it right here, right now, on this page? Below is a fully functional embedded JavaScript console with the Operate Agent already loaded. Read on below for help getting started...")]),t._v(" "),e("iframe",{staticStyle:{width:"100%",height:"540px",margin:"1rem 0",border:"0"},attrs:{src:"https://jsconsole.com/?%3Aload%20//cdn.jsdelivr.net/npm/@operate/agent@latest"}}),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("Using Firefox?")]),t._v(" "),e("p",[t._v("You may need to manually load the Operate library. Paste the following in to the console above.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(":load //cdn.jsdelivr.net/npm/@operate/agent@latest\n")])])])]),t._v(" "),e("h3",{attrs:{id:"aliases"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#aliases"}},[t._v("#")]),t._v(" Aliases")]),t._v(" "),e("p",[t._v("To get started, copy and paste the following line into the console to configure the agent with a number of aliases for common Bitcoin protocols. Not every transaction will be compatible with Operate, but with these common aliases you should be able to play with transactions from some popular Bitcoin apps.")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("Operate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("quickStartAliases")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h3",{attrs:{id:"twetch-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#twetch-example"}},[t._v("#")]),t._v(" Twetch example")]),t._v(" "),e("p",[t._v("Next up, try loading and running a tape from any transaction. Lets try this example from Twetch:")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Load a Tape")]),t._v("\ntape "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Operate\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadTape")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'d732924fdde726203ccec9f0a4589c78f149341b899d864e36af88938efa2553'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Run the Tape")]),t._v("\nresult "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Operate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runTape")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Convert Map to Object")]),t._v("\ndata "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Operate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mapToObject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("At each step in the above code, try inspecting the returned data. You'll notice the "),e("code",[t._v("result")]),t._v(" is by default returned as an instance of "),e("code",[t._v("Map")]),t._v(". This is because JavaScript Maps are semantically much closer to Lua Tables than Objects. The final line uses a helper method to "),e("em",[t._v("optionally")]),t._v(" convert Maps to Objects.")]),t._v(" "),e("h3",{attrs:{id:"bit-sv-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bit-sv-example"}},[t._v("#")]),t._v(" Bit.sv example")]),t._v(" "),e("p",[t._v("Next up, lets try the same with a Bit.sv transaction:")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("tape "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Operate\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadTape")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9fab521bf3859da182c4bfb85499bba6f1f2a5b5658c96a079be84a56ccd3078'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nresult "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Operate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runTape")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tape"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndata "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Operate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mapToObject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Traverse the metanet node")]),t._v("\nparent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_META"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("parent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("The final line there gives a hint as to what Operate offers app developers. Not only does Operate parse transactions and implement all these data protocols, but it is returning interactive objects with functions attached. Bit.sv transactions are Metanet nodes, so we can create Ops that "),e("a",{attrs:{href:"/library/op/?ref=ec869026"}},[t._v("implement the Metanet protocol")]),t._v(" and provide functions for traversing the tree.")]),t._v(" "),e("p",[t._v("Wouldn't it be great if there was also an Op for the Bit.sv protocol that provides functions handling decryption of the private data, given the correct private key? This is what "),e("strong",[t._v("interoperability")]),t._v(" looks like with Operate.")]),t._v(" "),e("h2",{attrs:{id:"learning-more-about-operate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#learning-more-about-operate"}},[t._v("#")]),t._v(" Learning more about Operate")]),t._v(" "),e("p",[t._v("As well as releasing the JavaScript agent today, I have also rewritten the Operate documentation from the ground up. The new documentation aims to better explain some of the key concepts behind Operate.")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"/docs"}},[t._v("Introduction to Operate")])]),t._v(" "),e("li",[e("a",{attrs:{href:"/docs/getting-started"}},[t._v("Getting started")])]),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/docs/using-the-agent/#javascript"}},[t._v("Using the JavaScript agent")])],1)]),t._v(" "),e("p",[t._v("In addition, head over to the "),e("a",{attrs:{href:"https://github.com/operate-bsv/op_agent-js",target:"_blank",rel:"noopener"}},[t._v("Github repository"),e("OutboundLink")],1),t._v(" to browse the source code.")]),t._v(" "),e("p",[t._v("All Operate software is beta software. The JavaScript agent particularly has a few known issues - not least of all the "),e("em",[t._v("massive")]),t._v(" browser bundle size (over 700kb). I think it will be possible to reduce this to below 300kb, but this will take work and time.")]),t._v(" "),e("h2",{attrs:{id:"finally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#finally"}},[t._v("#")]),t._v(" Finally")]),t._v(" "),e("p",[t._v("In February, when I stood up in front of "),e("a",{attrs:{href:"/blog/cambrian-and-coingeek"}},[t._v("~900 people at CoinGeek London")]),t._v(" and revealed that a JavaScript agent was "),e("em",[t._v("coming soon™")]),t._v(", I wasn't even sure if I was being honest. For a few reasons this has been a "),e("em",[t._v("really")]),t._v(" challenging, and at times frustrating project to work on. To that point I must thank "),e("a",{attrs:{href:"https://twitter.com/unanon_",target:"_blank",rel:"noopener"}},[t._v("@unanon_"),e("OutboundLink")],1),t._v(" who joined me at CambrianSV in Lisbon, helped out with some of the dev work, and got to enjoy some of those laptop-smashingly frustrating moments with me.")])])}),[],!1,null,null,null);a.default=n.exports}}]);