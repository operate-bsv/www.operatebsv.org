(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{628:function(a,t,e){"use strict";e.r(t);var s=e(41),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"publishing-ops"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publishing-ops"}},[a._v("#")]),a._v(" Publishing Ops")]),a._v(" "),e("h2",{attrs:{id:"anatomy-of-an-op"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#anatomy-of-an-op"}},[a._v("#")]),a._v(" Anatomy of an Op")]),a._v(" "),e("p",[a._v("An Op is a function written in Lua.")]),a._v(" "),e("div",{staticClass:"language-lua extra-class"},[e("pre",{pre:!0,attrs:{class:"language-lua"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("--[[\nDocument the function\n]]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("--")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" arg1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" arg2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("...")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  state "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" state "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("or")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- Code here")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" state\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("end")]),a._v("\n")])])]),e("p",[a._v("The first argument of the function is always the "),e("code",[a._v("state")]),a._v(", and it can receive any number of other arguments. Within the body of the function, those arguments can be used to mutate the state in any way before returning a new, modified state.")]),a._v(" "),e("h2",{attrs:{id:"what-can-an-op-do"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-can-an-op-do"}},[a._v("#")]),a._v(" What can an Op do?")]),a._v(" "),e("p",[a._v("Most Ops will probably be simple, single purpose functions, designed to do one thing and do it well. However, Ops can be coded to do whatever you can imagine.")]),a._v(" "),e("p",[a._v("A function can return any value, including other functions. Returned functions can then be called in your own application's code, outside of Lua. This is a great way of passing in private data such as keys, without permanently exposing them to the Lua VM.")]),a._v(" "),e("p",[a._v("Developers can also chose to extend the Lua VM with their own modules, even writing code in their own application that is called from within the Lua VM.")]),a._v(" "),e("p",[a._v("This kind of flexibility is powerful and opens up many innovative use cases.")]),a._v(" "),e("h2",{attrs:{id:"operate-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#operate-cli"}},[a._v("#")]),a._v(" Operate CLI")]),a._v(" "),e("p",[a._v("The "),e("a",{attrs:{href:"https://github.com/operate-bsv/op_cli",target:"_blank",rel:"noopener"}},[a._v("Operate CLI"),e("OutboundLink")],1),a._v(" provides a set of tools to help create, manage and publish Ops.")]),a._v(" "),e("h3",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[a._v("#")]),a._v(" Installation")]),a._v(" "),e("p",[a._v("It can be installed using "),e("code",[a._v("npm")]),a._v(" or "),e("code",[a._v("yarn")]),a._v(".")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Install with npm")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g @operate/cli\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Install with yarn")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" global "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" @operate/cli\n")])])]),e("h3",{attrs:{id:"help"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#help"}},[a._v("#")]),a._v(" Help")]),a._v(" "),e("p",[a._v("You can list all available commands and/or get usage help for a specific command.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# List available commands")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" operate --help \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Get help on any command")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" operate "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" --help\n")])])]),e("h3",{attrs:{id:"initialise-a-new-op-library"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#initialise-a-new-op-library"}},[a._v("#")]),a._v(" Initialise a new Op library")]),a._v(" "),e("p",[a._v("Use the "),e("code",[a._v("init")]),a._v(" command to initialise a working directory for your Op(s). This will generate a "),e("code",[a._v(".bit")]),a._v(" environment file in your working directory containing your publishing address and private key.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" operate init path/to/directory\n")])])]),e("h3",{attrs:{id:"wallet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wallet"}},[a._v("#")]),a._v(" Wallet")]),a._v(" "),e("p",[a._v("You will need to fund your publishing wallet before publishing any Op. From within your working directory, use the "),e("code",[a._v("wallet")]),a._v(" command to see your wallet address and balance.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" operate wallet\n")])])]),e("h3",{attrs:{id:"create-a-new-op"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-op"}},[a._v("#")]),a._v(" Create a new Op")]),a._v(" "),e("p",[a._v("Use the "),e("code",[a._v("new")]),a._v(" command to generate a new blank function in the "),e("code",[a._v("src")]),a._v(" folder of your working directory.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" operate new my/function -a arg1 -a arg2\n")])])]),e("h3",{attrs:{id:"publish-an-op"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publish-an-op"}},[a._v("#")]),a._v(" Publish an Op")]),a._v(" "),e("p",[a._v("When ready (and your publishing wallet is funded), use the "),e("code",[a._v("publish")]),a._v(" command to publish the Op to the blockchain.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" operate publish my/function\n")])])]),e("p",[a._v("It is recommended to test functions thoroughly before publishing on the blockchain. View the "),e("a",{attrs:{href:"https://github.com/operate-bsv/op_library",target:"_blank",rel:"noopener"}},[a._v("operate/op_library"),e("OutboundLink")],1),a._v(" repository for examples of setting up an Op library with an Ex-Unit test suite.")])])}),[],!1,null,null,null);t.default=n.exports}}]);